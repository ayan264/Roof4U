<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roof4U - Payment Management</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <h1><i class="fas fa-house"></i> Roof4U</h1>
        </div>
        <ul class="nav-menu">
            <li><a href="roof4u.html">Dashboard</a></li>
            <li><a href="houses.html">Properties</a></li>
            <li><a href="rent.html">Tenants</a></li>
            <li><a href="payments.html" class="active">Payments</a></li>
            <li><a href="maintenance.html">Maintenance</a></li>
        </ul>
        <div class="nav-user">
            <span id="currentUser">Admin</span>
            <button id="logoutBtn" class="btn-logout">Logout</button>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h2>Payment Management</h2>
            <p>Track rent payments, generate invoices, and monitor financials</p>
        </div>
        
        <!-- Financial Overview -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3 id="totalCollected">$0</h3>
                <p>Total Collected (This Month)</p>
            </div>
            <div class="stat-card">
                <h3 id="pendingPayments">$0</h3>
                <p>Pending Payments</p>
            </div>
            <div class="stat-card">
                <h3 id="latePayments">$0</h3>
                <p>Late Payments</p>
            </div>
            <div class="stat-card">
                <h3 id="collectionRate">0%</h3>
                <p>Collection Rate</p>
            </div>
        </div>
        
        <!-- Record Payment Form -->
        <div class="form-container">
            <h3>Record New Payment</h3>
            <form id="paymentForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="paymentTenant">Tenant *</label>
                        <select id="paymentTenant" required>
                            <option value="">Select Tenant</option>
                            <!-- Tenants will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paymentProperty">Property</label>
                        <select id="paymentProperty" disabled>
                            <!-- Property will be auto-populated -->
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="paymentAmount">Amount ($) *</label>
                        <input type="number" id="paymentAmount" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentDate">Payment Date *</label>
                        <input type="date" id="paymentDate" required value="">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="paymentType">Payment Type *</label>
                        <select id="paymentType" required>
                            <option value="rent">Rent</option>
                            <option value="deposit">Security Deposit</option>
                            <option value="late_fee">Late Fee</option>
                            <option value="pet_fee">Pet Fee</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paymentMethod">Payment Method *</label>
                        <select id="paymentMethod" required>
                            <option value="bank_transfer">Bank Transfer</option>
                            <option value="credit_card">Credit Card</option>
                            <option value="check">Check</option>
                            <option value="cash">Cash</option>
                            <option value="online">Online Payment</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="paymentPeriod">Payment Period (Month) *</label>
                        <input type="month" id="paymentPeriod" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentStatus">Status *</label>
                        <select id="paymentStatus" required>
                            <option value="paid">Paid</option>
                            <option value="pending">Pending</option>
                            <option value="late">Late</option>
                            <option value="partial">Partial</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group form-full">
                        <label for="paymentNotes">Notes</label>
                        <textarea id="paymentNotes" rows="3" placeholder="Any additional notes about this payment..."></textarea>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="receiptNumber">Receipt Number</label>
                        <input type="text" id="receiptNumber" placeholder="Auto-generated if left blank">
                    </div>
                    <div class="form-group">
                        <label for="referenceNumber">Reference Number</label>
                        <input type="text" id="referenceNumber" placeholder="Bank/Transaction reference">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Record Payment</button>
                    <button type="button" id="generateInvoice" class="btn-secondary">Generate Invoice</button>
                    <button type="button" id="clearPaymentForm" class="btn-secondary">Clear Form</button>
                </div>
            </form>
        </div>
        
        <!-- Payment Filters -->
        <div class="filter-container">
            <h3>Payment History</h3>
            <div class="filter-controls">
                <select id="filterMonth">
                    <option value="">All Months</option>
                    <!-- Months will be populated by JavaScript -->
                </select>
                <select id="filterProperty">
                    <option value="">All Properties</option>
                    <!-- Properties will be populated by JavaScript -->
                </select>
                <select id="filterStatus">
                    <option value="">All Statuses</option>
                    <option value="paid">Paid</option>
                    <option value="pending">Pending</option>
                    <option value="late">Late</option>
                </select>
                <button id="applyFilters" class="btn-primary">Apply Filters</button>
                <button id="resetFilters" class="btn-secondary">Reset</button>
                <button id="exportPayments" class="btn-success">Export to CSV</button>
            </div>
        </div>
        
        <!-- Payments Table -->
        <div class="table-responsive">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Tenant</th>
                        <th>Property</th>
                        <th>Amount</th>
                        <th>Type</th>
                        <th>Method</th>
                        <th>Period</th>
                        <th>Status</th>
                        <th>Receipt</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="paymentsTableBody">
                    <!-- Payments will be populated by JavaScript -->
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="3"><strong>Total:</strong></td>
                        <td id="tableTotal">$0.00</td>
                        <td colspan="6"></td>
                    </tr>
                </tfoot>
            </table>
        </div>
        
        <!-- Pending & Late Payments -->
        <div class="section-container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="pending">Pending Payments</button>
                <button class="tab-btn" data-tab="late">Late Payments</button>
                <button class="tab-btn" data-tab="upcoming">Upcoming Due Dates</button>
            </div>
            
            <div class="tab-content active" id="pendingTab">
                <div id="pendingPaymentsList" class="payment-list">
                    <!-- Pending payments will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="lateTab">
                <div id="latePaymentsList" class="payment-list">
                    <!-- Late payments will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="upcomingTab">
                <div id="upcomingPaymentsList" class="payment-list">
                    <!-- Upcoming payments will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Monthly Revenue Chart -->
        <div class="section-container">
            <h3>Monthly Revenue Trend</h3>
            <div class="chart-container">
                <canvas id="revenueChart"></canvas>
            </div>
        </div>
    </div>
    
    <!-- Payment Detail Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Payment Details</h3>
                <span class="modal-close">&times;</span>
            </div>
            <div class="modal-body" id="paymentModalBody">
                <!-- Payment details will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button id="printReceipt" class="btn-primary">Print Receipt</button>
                <button id="sendReceipt" class="btn-success">Email Receipt</button>
                <button id="voidPayment" class="btn-danger">Void Payment</button>
            </div>
        </div>
    </div>

    <!-- Simple Footer -->
<footer class="simple-footer">
    <div class="footer-container">
        <div class="footer-content">
            <div class="footer-logo">
                <h3><i class="fas fa-home"></i> Roof4U</h3>
                <p>Property Management System</p>
            </div>
            
            <div class="footer-links">
                <a href="roof4u.html">Dashboard</a>
                <a href="houses.html">Properties</a>
                <a href="rent.html">Rent Now</a>
                <a href="tenants.html">Tenants</a>
                <a href="payments.html">Payments</a>
                <a href="maintenance.html">Maintenance</a>
            </div>
            
            <div class="footer-info">
                <p><i class="fa-solid fa-envelope"></i> support@roof4u.com</p>
                <p><i class="fa-solid fa-phone"></i> (555) 123-4567</p>
                <p class="copyright">Â© 2026 Roof4U. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="roof4u.js"></script>
    
</body>
</html>